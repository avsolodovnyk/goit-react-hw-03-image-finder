{"version":3,"sources":["Components/Gallery/Gallery.module.css","Components/App/App.module.css","Components/SearchForm/SearchForm.module.css","Components/LoadMore/LoadMore.module.css","Components/PhotoCard/PhotoCard.module.css","Servises/pictures-api.js","Components/SearchForm/SearchForm.js","Components/PhotoCard/PhotoCard.js","Components/LoadMore/LoadMore.js","Components/Gallery/Gallery.js","Components/Loader/Loader.js","Components/App/App.js","index.js"],"names":["module","exports","fetchPictures","query","pageNumb","axios","get","then","res","data","hits","SearchForm","state","inputedText","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","onSearchSubmit","props","this","className","styles","onSubmit","type","autoComplete","placeholder","onChange","PureComponent","PhotoCard","webformatURL","likes","views","comments","downloads","onClickModal","id","src","alt","stats","onClick","LoadMore","loadMore","button","Gallery","items","handleModal","gallery","map","largeImageURL","key","length","LOADER_ROOT","document","querySelector","Loader","createPortal","ReactModal","setAppElement","INITIAL_STATE","searhQuery","modalUrl","pageNum","results","error","isLoading","showModal","App","onSearch","picturesAPI","catch","finally","handleLoadMorePic","handleOpenModal","find","item","Number","closeModal","prevProps","prevState","window","scrollTo","top","behavior","toast","message","position","POSITION","TOP_RIGHT","app","isOpen","onRequestClose","modal","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5802403a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3pM6b\",\"gallery-item\":\"Gallery_gallery-item__3iTRo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3UCIE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-form\":\"SearchForm_search-form__1TCzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__3lZ7G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo-card\":\"PhotoCard_photo-card__2mmj5\",\"stats\":\"PhotoCard_stats__jnWpA\",\"stats-item\":\"PhotoCard_stats-item__3yHU2\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__2x8A8\",\"button\":\"PhotoCard_button__3GWG3\"};","import axios from 'axios';\n\nfunction fetchPictures(query, pageNumb) {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumb}&per_page=12&key=14151340-b99e6816af17de38c6264dcd0`,\n    )\n    .then(res => {\n      return res.data.hits;\n    });\n}\nexport default { fetchPictures };\n","import React, { PureComponent } from 'react';\nimport T from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends PureComponent {\n  static propTypes = {\n    onSearchSubmit: T.func.isRequired,\n  };\n\n  state = { inputedText: '' };\n\n  handleChange = e => this.setState({ inputedText: e.currentTarget.value });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputedText } = this.state;\n    const { onSearchSubmit } = this.props;\n    onSearchSubmit(inputedText);\n    this.setState({ inputedText: '' });\n  };\n\n  render() {\n    const { inputedText } = this.state;\n    return (\n      <form className={styles['search-form']} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={inputedText}\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nexport default function PhotoCard({\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  onClickModal,\n  id,\n}) {\n  return (\n    <div className={styles['photo-card']}>\n      <img src={webformatURL} alt={webformatURL} />\n      <div className={styles.stats}>\n        <p className={styles['stats-item']}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles['stats-item']}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles['stats-item']}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles['stats-item']}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        type=\"button\"\n        id={id}\n        className={styles['fullscreen-button']}\n        onClick={onClickModal}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n}\n\nPhotoCard.propTypes = {\n  webformatURL: T.string.isRequired,\n  likes: T.number.isRequired,\n  views: T.number.isRequired,\n  comments: T.number.isRequired,\n  downloads: T.number.isRequired,\n  onClickModal: T.func.isRequired,\n  id: T.number.isRequired,\n};\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nexport default function LoadMore({ loadMore }) {\n  return (\n    <button className={styles.button} type=\"button\" onClick={loadMore}>\n      Load more\n    </button>\n  );\n}\nLoadMore.propTypes = {\n  loadMore: T.func.isRequired,\n};\n","import React from 'react';\nimport T from 'prop-types';\nimport PhotoCard from '../PhotoCard';\nimport LoadMore from '../LoadMore';\nimport styles from './Gallery.module.css';\n\nexport default function Gallery({ items, loadMore, handleModal }) {\n  return (\n    <>\n      <ul className={styles.gallery}>\n        {items.map(\n          ({\n            webformatURL,\n            largeImageURL,\n            likes,\n            views,\n            comments,\n            downloads,\n            id,\n          }) => (\n            <li key={id} className={styles['gallery-item']}>\n              <PhotoCard\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                likes={likes}\n                views={views}\n                comments={comments}\n                downloads={downloads}\n                onClickModal={handleModal}\n                id={id}\n              />\n            </li>\n          ),\n        )}\n      </ul>\n      {items.length > 0 && <LoadMore loadMore={loadMore} />}\n    </>\n  );\n}\n\nGallery.propTypes = {\n  items: T.arrayOf(\n    T.shape({\n      id: T.number.isRequired,\n      webformatURL: T.string.isRequired,\n      largeImageURL: T.string.isRequired,\n      likes: T.number.isRequired,\n      views: T.number.isRequired,\n      comments: T.number.isRequired,\n      downloads: T.number.isRequired,\n    }),\n  ).isRequired,\n  loadMore: T.func.isRequired,\n  handleModal: T.func.isRequired,\n};\n","import React from 'react';\nimport { createPortal } from 'react-dom';\n\nconst LOADER_ROOT = document.querySelector('#loader-root');\n\nexport default function Loader() {\n  return createPortal(<div>Loader</div>, LOADER_ROOT);\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport ReactModal from 'react-modal';\nimport picturesAPI from '../../Servises/pictures-api';\nimport SearchForm from '../SearchForm';\nimport Gallery from '../Gallery';\nimport Loader from '../Loader';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'material-icons/iconfont/material-icons.css';\nimport styles from './App.module.css';\n\nReactModal.setAppElement('#root');\nconst INITIAL_STATE = {\n  searhQuery: '',\n  modalUrl: '',\n  pageNum: 1,\n  results: [],\n  error: null,\n  isLoading: false,\n  showModal: false,\n};\nexport default class App extends Component {\n  state = { ...INITIAL_STATE };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searhQuery, pageNum, error } = this.state;\n    if (prevState.searhQuery !== searhQuery) {\n      this.fetchPictures();\n    }\n    if (prevState.pageNum !== pageNum) {\n      window.scrollTo({\n        top: pageNum * 1000,\n        behavior: 'smooth',\n      });\n    }\n    if (error) {\n      toast.error(`${error.message}`, {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n    }\n  }\n\n  onSearch = query => {\n    this.setState({ searhQuery: query, pageNum: 1, results: [] });\n  };\n\n  fetchPictures = () => {\n    const { searhQuery, pageNum } = this.state;\n    this.setState({ isLoading: true });\n    picturesAPI\n      .fetchPictures(searhQuery, pageNum)\n      .then(data => {\n        this.setState(state => {\n          return {\n            results: [...state.results, ...data],\n            pageNum: state.pageNum + 1,\n          };\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleLoadMorePic = () => {\n    const { searhQuery, pageNum } = this.state;\n    this.fetchPictures(searhQuery, pageNum + 1);\n  };\n\n  handleOpenModal = e => {\n    const { largeImageURL: modalUrl } = this.state.results.find(\n      item => item.id === Number(e.currentTarget.id),\n    );\n    this.setState({ modalUrl, showModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  render() {\n    const { results, isLoading, showModal, modalUrl } = this.state;\n    return (\n      <div className={styles.app}>\n        {isLoading && <Loader />}\n        <ReactModal isOpen={showModal} onRequestClose={this.closeModal}>\n          <div className={styles.modal}>\n            <img src={modalUrl} alt={modalUrl} />\n          </div>\n        </ReactModal>\n        <ToastContainer />\n        <SearchForm onSearchSubmit={this.onSearch} />\n        {results.length > 0 && (\n          <Gallery\n            items={results}\n            loadMore={this.handleLoadMorePic}\n            handleModal={this.handleOpenModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport 'normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}